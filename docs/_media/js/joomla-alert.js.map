{"version":3,"file":"joomla-alert.js","sources":["../../../src/js/alert/alert.js"],"sourcesContent":["(() => {\n  class JoomlaAlertElement extends HTMLElement {\n    /* Attributes to monitor */\n    static get observedAttributes() { return ['type', 'role', 'dismiss', 'acknowledge', 'href']; }\n\n    get type() { return this.getAttribute('type'); }\n\n    set type(value) { return this.setAttribute('type', value); }\n\n    get role() { return this.getAttribute('role'); }\n\n    set role(value) { return this.setAttribute('role', value); }\n\n    get dismiss() { return this.getAttribute('dismiss'); }\n\n    get autodismiss() { return this.getAttribute('auto-dismiss'); }\n\n    get acknowledge() { return this.getAttribute('acknowledge'); }\n\n    get href() { return this.getAttribute('href'); }\n\n    /* Lifecycle, element appended to the DOM */\n    connectedCallback() {\n      this.classList.add('joomla-alert--show');\n\n      // Default to info\n      if (!this.type || ['info', 'warning', 'danger', 'success'].indexOf(this.type) === -1) {\n        this.setAttribute('type', 'info');\n      }\n      // Default to alert\n      if (!this.role || ['alert', 'alertdialog'].indexOf(this.role) === -1) {\n        this.setAttribute('role', 'alert');\n      }\n      // Append button\n      if ((this.hasAttribute('dismiss') || this.hasAttribute('acknowledge')) || ((this.hasAttribute('href') && this.getAttribute('href') !== '')\n        && !this.querySelector('button.joomla-alert--close') && !this.querySelector('button.joomla-alert-button--close'))) {\n        this.appendCloseButton();\n      }\n\n      if (this.hasAttribute('auto-dismiss')) {\n        this.autoDismiss();\n      }\n\n      this.dispatchCustomEvent('joomla.alert.show');\n    }\n\n    /* Lifecycle, element removed from the DOM */\n    disconnectedCallback() {\n      this.removeEventListener('joomla.alert.show', this);\n      this.removeEventListener('joomla.alert.close', this);\n      this.removeEventListener('joomla.alert.closed', this);\n\n      if (this.firstChild.tagName && this.firstChild.tagName.toLowerCase() === 'button') {\n        this.firstChild.removeEventListener('click', this);\n      }\n    }\n\n    /* Respond to attribute changes */\n    attributeChangedCallback(attr, oldValue, newValue) {\n      switch (attr) {\n        case 'type':\n          if (!newValue || (newValue && ['info', 'warning', 'danger', 'success'].indexOf(newValue) === -1)) {\n            this.type = 'info';\n          }\n          break;\n        case 'role':\n          if (!newValue || (newValue && ['alert', 'alertdialog'].indexOf(newValue) === -1)) {\n            this.role = 'alert';\n          }\n          break;\n        case 'dismiss':\n        case 'acknowledge':\n          if (!newValue || newValue === 'true') {\n            this.appendCloseButton();\n          } else {\n            this.removeCloseButton();\n          }\n          break;\n        case 'auto-dismiss':\n          this.autoDismiss();\n          break;\n        case 'href':\n          if (!newValue || newValue === '') {\n            this.removeCloseButton();\n          } else if (!this.querySelector('button.joomla-alert-button--close')) {\n            this.appendCloseButton();\n          }\n          break;\n        default:\n          break;\n      }\n    }\n\n    markAlertClosed(element) {\n      this.dispatchCustomEvent('joomla.alert.closed');\n      if (element) {\n        element.parentNode.removeChild(element);\n      } else {\n        this.remove();\n      }\n    }\n\n    /* Method to close the alert */\n    close(element = null) {\n      this.dispatchCustomEvent('joomla.alert.close');\n      if (window.matchMedia('(prefers-reduced-motion)').matches) {\n        this.markAlertClosed(element);\n      } else {\n        this.addEventListener('transitionend', () => this.markAlertClosed(element), false);\n      }\n      this.classList.remove('joomla-alert--show');\n    }\n\n    /* Method to dispatch events */\n    dispatchCustomEvent(eventName) {\n      const OriginalCustomEvent = new CustomEvent(eventName);\n      OriginalCustomEvent.relatedTarget = this;\n      this.dispatchEvent(OriginalCustomEvent);\n      this.removeEventListener(eventName, this);\n    }\n\n    /* Method to create the close button */\n    appendCloseButton() {\n      if (this.querySelector('button.joomla-alert--close') || this.querySelector('button.joomla-alert-button--close')) {\n        return;\n      }\n\n      const self = this;\n      const closeButton = document.createElement('button');\n\n      if (this.hasAttribute('dismiss')) {\n        closeButton.classList.add('joomla-alert--close');\n        closeButton.innerHTML = '<span aria-hidden=\"true\">&times;</span>';\n        closeButton.setAttribute('aria-label', this.getText('JCLOSE', 'Close'));\n      } else {\n        closeButton.classList.add('joomla-alert-button--close');\n        if (this.hasAttribute('acknowledge')) {\n          closeButton.innerHTML = this.getText('JOK', 'ok');\n        } else {\n          closeButton.innerHTML = this.getText('JOPEN', 'Open');\n        }\n      }\n\n      if (this.firstChild) {\n        this.insertBefore(closeButton, this.firstChild);\n      } else {\n        this.appendChild(closeButton);\n      }\n\n      /* Add the required listener */\n      if (closeButton) {\n        if (!this.href) {\n          closeButton.addEventListener('click', () => {\n            self.dispatchCustomEvent('joomla.alert.buttonClicked');\n            if (self.getAttribute('data-callback')) {\n              window[self.getAttribute('data-callback')]();\n              self.close();\n            } else {\n              self.close();\n            }\n          });\n        } else {\n          closeButton.addEventListener('click', () => {\n            self.dispatchCustomEvent('joomla.alert.buttonClicked');\n            window.location.href = self.href;\n            self.close();\n          });\n        }\n      }\n    }\n\n    /* Method to auto-dismiss */\n    autoDismiss() {\n      const self = this;\n      setTimeout(() => {\n        self.dispatchCustomEvent('joomla.alert.buttonClicked');\n        if (self.hasAttribute('data-callback')) {\n          window[self.getAttribute('data-callback')]();\n        } else {\n          self.close(self);\n        }\n      }, parseInt(self.getAttribute('auto-dismiss'), 10) ? self.getAttribute('auto-dismiss') : 3000);\n    }\n\n    /* Method to remove the close button */\n    removeCloseButton() {\n      const button = this.querySelector('button');\n      if (button) {\n        button.removeEventListener('click', this);\n        button.parentNode.removeChild(button);\n      }\n    }\n\n    /* Method to get the translated text */\n    getText(str, fallback) {\n      // TODO: Remove coupling to Joomla CMS Core JS here\n      /* eslint-disable-next-line no-undef */\n      return (window.Joomla && Joomla.JText && Joomla.JText._ && typeof Joomla.JText._ === 'function' && Joomla.JText._(str)) ? Joomla.JText._(str) : fallback;\n    }\n  }\n\n  customElements.define('joomla-alert', JoomlaAlertElement);\n})();\n"],"names":[],"mappings":"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"}