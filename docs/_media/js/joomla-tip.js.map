{"version":3,"file":"joomla-tip.js","sources":["../../../src/js/tip/tip.js"],"sourcesContent":["(() => {\n  customElements.define('joomla-tip', class extends HTMLElement {\n    /* Attributes to monitor */\n    static get observedAttributes() { return ['type', 'label', 'tip', 'text', 'position']; }\n\n    get type() { return this.getAttribute('type'); }\n\n    set type(value) { return this.setAttribute('type', value); }\n\n    get label() { return this.getAttribute('label'); }\n\n    set label(value) { return this.setAttribute('label', value); }\n\n    get tip() { return this.getAttribute('tip'); }\n\n    set tip(value) { return this.setAttribute('tip', value); }\n\n    get position() { return this.getAttribute('position'); }\n\n    set position(value) { return this.setAttribute('position', value); }\n\n    get text() { return this.getAttribute('text'); }\n\n    set text(value) { return this.getAttribute('text', value); }\n\n    /* Lifecycle, element appended to the DOM */\n    connectedCallback() {\n      if (!this.position || (this.position && ['top', 'bottom', 'left', 'right'].indexOf(this.position) === -1)) {\n        this.position = 'top';\n      }\n\n      // create the html\n      this.btnElement = document.createElement('button');\n      this.spanElement = document.createElement('span');\n\n      this.btnElement.setAttribute('aria-label', this.label ? this.label : 'more info');\n      this.btnElement.innerHTML = this.text ? this.text : '';\n      this.spanElement.setAttribute('role', 'status');\n\n      // On click\n      this.btnElement.addEventListener('click', this.showTip.bind(this));\n\n      this.append(this.btnElement);\n      this.append(this.spanElement);\n    }\n\n    /* Lifecycle, element removed from the DOM */\n    disconnectedCallback() {\n      this.querySelector('button').removeEventListener('click', this.showTip, true);\n    }\n\n    showTip() {\n      const self = this;\n\n      // Close on outside click\n      document.addEventListener('click', (e) => {\n        if (this.btnElement !== e.target) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      // Remove toggletip on ESC\n      document.addEventListener('keydown', (e) => {\n        if ((e.keyCode || e.which) === 9) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      this.spanElement.innerHTML = '';\n      this.spanElement.innerHTML = `<span class=\"toggletip-bubble ${this.position}\">${this.tip}</span>`;\n    }\n\n    /* Method to dispatch events */\n    dispatchCustomEvent(eventName) {\n      const OriginalCustomEvent = new CustomEvent(eventName, { bubbles: true, cancelable: true });\n      OriginalCustomEvent.relatedTarget = this;\n      this.dispatchEvent(OriginalCustomEvent);\n      this.removeEventListener(eventName, this);\n    }\n  });\n})();\n"],"names":[],"mappings":"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"}