{"version":3,"file":"joomla-tip-es5.js","sources":["../../../src/js/tip/tip.js"],"sourcesContent":["(() => {\n  customElements.define('joomla-tip', class extends HTMLElement {\n    /* Attributes to monitor */\n    static get observedAttributes() { return ['type', 'label', 'tip', 'text', 'position']; }\n\n    get type() { return this.getAttribute('type'); }\n\n    set type(value) { return this.setAttribute('type', value); }\n\n    get label() { return this.getAttribute('label'); }\n\n    set label(value) { return this.setAttribute('label', value); }\n\n    get tip() { return this.getAttribute('tip'); }\n\n    set tip(value) { return this.setAttribute('tip', value); }\n\n    get position() { return this.getAttribute('position'); }\n\n    set position(value) { return this.setAttribute('position', value); }\n\n    get text() { return this.getAttribute('text'); }\n\n    set text(value) { return this.getAttribute('text', value); }\n\n    /* Lifecycle, element appended to the DOM */\n    connectedCallback() {\n      if (!this.position || (this.position && ['top', 'bottom', 'left', 'right'].indexOf(this.position) === -1)) {\n        this.position = 'top';\n      }\n\n      // create the html\n      this.btnElement = document.createElement('button');\n      this.spanElement = document.createElement('span');\n\n      this.btnElement.setAttribute('aria-label', this.label ? this.label : 'more info');\n      this.btnElement.innerHTML = this.text ? this.text : '';\n      this.spanElement.setAttribute('role', 'status');\n\n      // On click\n      this.btnElement.addEventListener('click', this.showTip.bind(this));\n\n      this.append(this.btnElement);\n      this.append(this.spanElement);\n    }\n\n    /* Lifecycle, element removed from the DOM */\n    disconnectedCallback() {\n      this.querySelector('button').removeEventListener('click', this.showTip, true);\n    }\n\n    showTip() {\n      const self = this;\n\n      // Close on outside click\n      document.addEventListener('click', (e) => {\n        if (this.btnElement !== e.target) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      // Remove toggletip on ESC\n      document.addEventListener('keydown', (e) => {\n        if ((e.keyCode || e.which) === 9) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      this.spanElement.innerHTML = '';\n      this.spanElement.innerHTML = `<span class=\"toggletip-bubble ${this.position}\">${this.tip}</span>`;\n    }\n\n    /* Method to dispatch events */\n    dispatchCustomEvent(eventName) {\n      const OriginalCustomEvent = new CustomEvent(eventName, { bubbles: true, cancelable: true });\n      OriginalCustomEvent.relatedTarget = this;\n      this.dispatchEvent(OriginalCustomEvent);\n      this.removeEventListener(eventName, this);\n    }\n  });\n})();\n"],"names":["customElements","define","position","indexOf","btnElement","document","createElement","spanElement","setAttribute","label","innerHTML","text","addEventListener","showTip","bind","append","querySelector","removeEventListener","self","e","target","keyCode","which","tip","eventName","OriginalCustomEvent","CustomEvent","bubbles","cancelable","relatedTarget","dispatchEvent","getAttribute","value","HTMLElement"],"mappings":"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"}