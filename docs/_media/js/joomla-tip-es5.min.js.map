{"version":3,"file":"joomla-tip-es5.min.js","sources":["../../../src/js/tip/tip.js"],"sourcesContent":["(() => {\n  customElements.define('joomla-tip', class extends HTMLElement {\n    /* Attributes to monitor */\n    static get observedAttributes() { return ['type', 'label', 'tip', 'text', 'position']; }\n\n    get type() { return this.getAttribute('type'); }\n\n    set type(value) { return this.setAttribute('type', value); }\n\n    get label() { return this.getAttribute('label'); }\n\n    set label(value) { return this.setAttribute('label', value); }\n\n    get tip() { return this.getAttribute('tip'); }\n\n    set tip(value) { return this.setAttribute('tip', value); }\n\n    get position() { return this.getAttribute('position'); }\n\n    set position(value) { return this.setAttribute('position', value); }\n\n    get text() { return this.getAttribute('text'); }\n\n    set text(value) { return this.getAttribute('text', value); }\n\n    /* Lifecycle, element appended to the DOM */\n    connectedCallback() {\n      if (!this.position || (this.position && ['top', 'bottom', 'left', 'right'].indexOf(this.position) === -1)) {\n        this.position = 'top';\n      }\n\n      // create the html\n      this.btnElement = document.createElement('button');\n      this.spanElement = document.createElement('span');\n\n      this.btnElement.setAttribute('aria-label', this.label ? this.label : 'more info');\n      this.btnElement.innerHTML = this.text ? this.text : '';\n      this.spanElement.setAttribute('role', 'status');\n\n      // On click\n      this.btnElement.addEventListener('click', this.showTip.bind(this));\n\n      this.append(this.btnElement);\n      this.append(this.spanElement);\n    }\n\n    /* Lifecycle, element removed from the DOM */\n    disconnectedCallback() {\n      this.querySelector('button').removeEventListener('click', this.showTip, true);\n    }\n\n    showTip() {\n      const self = this;\n\n      // Close on outside click\n      document.addEventListener('click', (e) => {\n        if (this.btnElement !== e.target) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      // Remove toggletip on ESC\n      document.addEventListener('keydown', (e) => {\n        if ((e.keyCode || e.which) === 9) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      this.spanElement.innerHTML = '';\n      this.spanElement.innerHTML = `<span class=\"toggletip-bubble ${this.position}\">${this.tip}</span>`;\n    }\n\n    /* Method to dispatch events */\n    dispatchCustomEvent(eventName) {\n      const OriginalCustomEvent = new CustomEvent(eventName, { bubbles: true, cancelable: true });\n      OriginalCustomEvent.relatedTarget = this;\n      this.dispatchEvent(OriginalCustomEvent);\n      this.removeEventListener(eventName, this);\n    }\n  });\n})();\n"],"names":["customElements","define","HTMLElement","this","position","indexOf","btnElement","document","createElement","spanElement","setAttribute","label","innerHTML","text","addEventListener","showTip","bind","append","querySelector","removeEventListener","self","e","_this","target","keyCode","which","tip","eventName","OriginalCustomEvent","CustomEvent","bubbles","cancelable","relatedTarget","dispatchEvent","getAttribute","value"],"mappings":"0kDACEA,eAAeC,OAAO,iQAA4BC,ySAEP,CAAC,OAAQ,QAAS,MAAO,OAAQ,+DAwBnEC,KAAKC,UAAaD,KAAKC,WAA2E,IAA/D,CAAC,MAAO,SAAU,OAAQ,SAASC,QAAQF,KAAKC,kBACjFA,SAAW,YAIbE,WAAaC,SAASC,cAAc,eACpCC,YAAcF,SAASC,cAAc,aAErCF,WAAWI,aAAa,aAAcP,KAAKQ,MAAQR,KAAKQ,MAAQ,kBAChEL,WAAWM,UAAYT,KAAKU,KAAOV,KAAKU,KAAO,QAC/CJ,YAAYC,aAAa,OAAQ,eAGjCJ,WAAWQ,iBAAiB,QAASX,KAAKY,QAAQC,KAAKb,YAEvDc,OAAOd,KAAKG,iBACZW,OAAOd,KAAKM,iEAKZS,cAAc,UAAUC,oBAAoB,QAAShB,KAAKY,SAAS,gDAIlEK,EAAOjB,KAGbI,SAASO,iBAAiB,SAAS,SAACO,GAC9BC,EAAKhB,aAAee,EAAEE,SACxBD,EAAKb,YAAYG,UAAY,GAC7BQ,EAAKD,oBAAoB,UAAWG,OAKxCf,SAASO,iBAAiB,WAAW,SAACO,GACL,KAA1BA,EAAEG,SAAWH,EAAEI,SAClBH,EAAKb,YAAYG,UAAY,GAC7BQ,EAAKD,oBAAoB,UAAWG,YAInCb,YAAYG,UAAY,QACxBH,YAAYG,kDAA6CT,KAAKC,sBAAaD,KAAKuB,2DAInEC,OACZC,EAAsB,IAAIC,YAAYF,EAAW,CAAEG,SAAS,EAAMC,YAAY,IACpFH,EAAoBI,cAAgB7B,UAC/B8B,cAAcL,QACdT,oBAAoBQ,EAAWxB,0CA1ElBA,KAAK+B,aAAa,sBAE7BC,UAAgBhC,KAAKO,aAAa,OAAQyB,wCAE9BhC,KAAK+B,aAAa,uBAE7BC,UAAgBhC,KAAKO,aAAa,QAASyB,sCAElChC,KAAK+B,aAAa,qBAE7BC,UAAgBhC,KAAKO,aAAa,MAAOyB,2CAEzBhC,KAAK+B,aAAa,0BAE7BC,UAAgBhC,KAAKO,aAAa,WAAYyB,uCAEvChC,KAAK+B,aAAa,sBAE7BC,UAAgBhC,KAAK+B,aAAa,OAAQC"}