{"version":3,"file":"joomla-tip.min.js","sources":["../../../src/js/tip/tip.js"],"sourcesContent":["(() => {\n  customElements.define('joomla-tip', class extends HTMLElement {\n    /* Attributes to monitor */\n    static get observedAttributes() { return ['type', 'label', 'tip', 'text', 'position']; }\n\n    get type() { return this.getAttribute('type'); }\n\n    set type(value) { return this.setAttribute('type', value); }\n\n    get label() { return this.getAttribute('label'); }\n\n    set label(value) { return this.setAttribute('label', value); }\n\n    get tip() { return this.getAttribute('tip'); }\n\n    set tip(value) { return this.setAttribute('tip', value); }\n\n    get position() { return this.getAttribute('position'); }\n\n    set position(value) { return this.setAttribute('position', value); }\n\n    get text() { return this.getAttribute('text'); }\n\n    set text(value) { return this.getAttribute('text', value); }\n\n    /* Lifecycle, element appended to the DOM */\n    connectedCallback() {\n      if (!this.position || (this.position && ['top', 'bottom', 'left', 'right'].indexOf(this.position) === -1)) {\n        this.position = 'top';\n      }\n\n      // create the html\n      this.btnElement = document.createElement('button');\n      this.spanElement = document.createElement('span');\n\n      this.btnElement.setAttribute('aria-label', this.label ? this.label : 'more info');\n      this.btnElement.innerHTML = this.text ? this.text : '';\n      this.spanElement.setAttribute('role', 'status');\n\n      // On click\n      this.btnElement.addEventListener('click', this.showTip.bind(this));\n\n      this.append(this.btnElement);\n      this.append(this.spanElement);\n    }\n\n    /* Lifecycle, element removed from the DOM */\n    disconnectedCallback() {\n      this.querySelector('button').removeEventListener('click', this.showTip, true);\n    }\n\n    showTip() {\n      const self = this;\n\n      // Close on outside click\n      document.addEventListener('click', (e) => {\n        if (this.btnElement !== e.target) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      // Remove toggletip on ESC\n      document.addEventListener('keydown', (e) => {\n        if ((e.keyCode || e.which) === 9) {\n          this.spanElement.innerHTML = '';\n          self.removeEventListener('keydown', this);\n        }\n      });\n\n      this.spanElement.innerHTML = '';\n      this.spanElement.innerHTML = `<span class=\"toggletip-bubble ${this.position}\">${this.tip}</span>`;\n    }\n\n    /* Method to dispatch events */\n    dispatchCustomEvent(eventName) {\n      const OriginalCustomEvent = new CustomEvent(eventName, { bubbles: true, cancelable: true });\n      OriginalCustomEvent.relatedTarget = this;\n      this.dispatchEvent(OriginalCustomEvent);\n      this.removeEventListener(eventName, this);\n    }\n  });\n})();\n"],"names":["customElements","define","HTMLElement","observedAttributes","type","this","getAttribute","value","setAttribute","label","tip","position","text","[object Object]","indexOf","btnElement","document","createElement","spanElement","innerHTML","addEventListener","showTip","bind","append","querySelector","removeEventListener","self","e","target","keyCode","which","eventName","OriginalCustomEvent","CustomEvent","bubbles","cancelable","relatedTarget","dispatchEvent"],"mappings":"AACEA,eAAeC,OAAO,aAAc,cAAcC,YAEhDC,gCAAkC,MAAO,CAAC,OAAQ,QAAS,MAAO,OAAQ,YAE1EC,WAAa,OAAOC,KAAKC,aAAa,QAEtCF,SAASG,GAAS,OAAOF,KAAKG,aAAa,OAAQD,GAEnDE,YAAc,OAAOJ,KAAKC,aAAa,SAEvCG,UAAUF,GAAS,OAAOF,KAAKG,aAAa,QAASD,GAErDG,UAAY,OAAOL,KAAKC,aAAa,OAErCI,QAAQH,GAAS,OAAOF,KAAKG,aAAa,MAAOD,GAEjDI,eAAiB,OAAON,KAAKC,aAAa,YAE1CK,aAAaJ,GAAS,OAAOF,KAAKG,aAAa,WAAYD,GAE3DK,WAAa,OAAOP,KAAKC,aAAa,QAEtCM,SAASL,GAAS,OAAOF,KAAKC,aAAa,OAAQC,GAGnDM,sBACOR,KAAKM,UAAaN,KAAKM,WAA2E,IAA/D,CAAC,MAAO,SAAU,OAAQ,SAASG,QAAQT,KAAKM,aACtFN,KAAKM,SAAW,OAIlBN,KAAKU,WAAaC,SAASC,cAAc,UACzCZ,KAAKa,YAAcF,SAASC,cAAc,QAE1CZ,KAAKU,WAAWP,aAAa,aAAcH,KAAKI,MAAQJ,KAAKI,MAAQ,aACrEJ,KAAKU,WAAWI,UAAYd,KAAKO,KAAOP,KAAKO,KAAO,GACpDP,KAAKa,YAAYV,aAAa,OAAQ,UAGtCH,KAAKU,WAAWK,iBAAiB,QAASf,KAAKgB,QAAQC,KAAKjB,OAE5DA,KAAKkB,OAAOlB,KAAKU,YACjBV,KAAKkB,OAAOlB,KAAKa,aAInBL,uBACER,KAAKmB,cAAc,UAAUC,oBAAoB,QAASpB,KAAKgB,SAAS,GAG1ER,UACE,MAAMa,EAAOrB,KAGbW,SAASI,iBAAiB,SAAUO,IAC9BtB,KAAKU,aAAeY,EAAEC,SACxBvB,KAAKa,YAAYC,UAAY,GAC7BO,EAAKD,oBAAoB,UAAWpB,UAKxCW,SAASI,iBAAiB,WAAYO,IACL,KAA1BA,EAAEE,SAAWF,EAAEG,SAClBzB,KAAKa,YAAYC,UAAY,GAC7BO,EAAKD,oBAAoB,UAAWpB,UAIxCA,KAAKa,YAAYC,UAAY,GAC7Bd,KAAKa,YAAYC,UAAY,iCAAiCd,KAAKM,aAAaN,KAAKK,aAIvFG,oBAAoBkB,GAClB,MAAMC,EAAsB,IAAIC,YAAYF,EAAW,CAAEG,SAAS,EAAMC,YAAY,IACpFH,EAAoBI,cAAgB/B,KACpCA,KAAKgC,cAAcL,GACnB3B,KAAKoB,oBAAoBM,EAAW1B"}