class ModalElement extends HTMLElement{constructor(e){super(),this.includeCss(),window.Joomla=window.Joomla||{},window.Joomla.UI={},window.Joomla.UI.modal={}}connectedCallback(){const e=this,o=document.querySelector(`button[data-href="#${this.id}"]`);o&&o.addEventListener("click",function(o){const t=this,d=document.createElement("div");d.classList.add("modal-backdrop","show"),document.body.appendChild(d),e.classList.add("show"),e.firstElementChild.focus(),window.addEventListener("click",o=>{e.findAncestorClass(o.target,"modal-content")||o.target===t||e.close()});const l=e.querySelectorAll('button[data-dismiss="modal"]');for(let o=0,t=l.length;o<t;o++)l[o].addEventListener("click",o=>{e.close()})})}disconnectedCallback(){}static get observedAttributes(){}attributeChangedCallback(e,o,t){e}close(){const e=document.querySelector(".modal-backdrop");e&&document.body.removeChild(e),this.classList.remove("show")}findAncestor(e,o){for(;(e=e.parentElement)&&e.nodeName.toLowerCase()!==o;);return e}findAncestorClass(e,o){for(;(e=e.parentElement)&&!e.classList.contains(o););return e}includeCss(){if(!document.getElementById("joomla-modal-stylesheet")){const e=document.createElement("style");e.id="joomla-modal-stylesheet",e.innerHTML="joomla-modal .modal-dialog{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;display:none;outline:0}joomla-modal.show .modal-dialog{display:block}",document.head.appendChild(e)}}}customElements.define("joomla-modal",ModalElement);