class ModalElement extends HTMLElement{constructor(e){super(),this.includeCss(),window.Joomla=window.Joomla||{},window.Joomla.UI={},window.Joomla.UI.modal={}}connectedCallback(){const e=this,t=document.querySelector(`button[data-href="#${this.id}"]`);t&&t.addEventListener("click",function(t){const o=this,n=document.createElement("div");n.classList.add("modal-backdrop","show"),document.body.appendChild(n),e.classList.add("show"),e.firstElementChild.focus(),window.addEventListener("click",t=>{e.findAncestorClass(t.target,"modal-content")||t.target===o||e.close()});const s=e.querySelectorAll('button[data-dismiss="modal"]');for(let t=0,o=s.length;t<o;t++)s[t].addEventListener("click",t=>{e.close()})})}disconnectedCallback(){}static get observedAttributes(){}attributeChangedCallback(e,t,o){e}close(){const e=document.querySelector(".modal-backdrop");e&&document.body.removeChild(e),this.classList.remove("show")}findAncestor(e,t){for(;(e=e.parentElement)&&e.nodeName.toLowerCase()!==t;);return e}findAncestorClass(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}includeCss(){if(!document.getElementById("joomla-modal-stylesheet")){const e=document.createElement("style");e.id="joomla-modal-stylesheet",e.innerHTML="{{stylesheet}}",document.head.appendChild(e)}}}customElements.define("joomla-modal",ModalElement);