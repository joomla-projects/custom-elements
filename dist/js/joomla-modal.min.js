class JoomlaModalElement extends HTMLElement{constructor(){if(super(),window.Joomla=window.Joomla||{},window.Joomla.UI={},window.Joomla.UI.modal={},!document.getElementById("joomla-modal-stylesheet")){const e=document.createElement("style");e.id="joomla-modal-stylesheet",e.innerHTML=`joomla-modal .modal-dialog{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;display:none;outline:0}joomla-modal.show .modal-dialog{display:block}`,document.head.appendChild(e)}}connectedCallback(){const e=this,o=document.querySelector(`button[data-href="#${this.id}"]`);o&&o.addEventListener("click",function(){const o=this,t=document.createElement("div");t.classList.add("modal-backdrop","show"),document.body.appendChild(t),e.classList.add("show"),e.firstElementChild.focus(),window.addEventListener("click",t=>{e.findAncestorClass(t.target,"modal-content")||t.target===o||e.close()}),e.querySelectorAll('button[data-dismiss="modal"]').forEach(o=>{o.addEventListener("click",()=>{e.close()})})})}disconnectedCallback(){}static get observedAttributes(){}attributeChangedCallback(e,o,t){e}close(){const e=document.querySelector(".modal-backdrop");e&&document.body.removeChild(e),this.classList.remove("show")}findAncestor(e,o){for(;(e=e.parentElement)&&e.nodeName.toLowerCase()!==o;);return e}findAncestorClass(e,o){for(;(e=e.parentElement)&&!e.classList.contains(o););return e}}customElements.define("joomla-modal",JoomlaModalElement);