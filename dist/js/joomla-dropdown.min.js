class JoomlaDropdownElement extends HTMLElement{static get observedAttributes(){return["for"]}get for(){return this.getAttribute("for")}set for(e){return this.setAttribute("for",e)}connectedCallback(){this.setAttribute("aria-labelledby",this.for.substring(1));const e=document.querySelector(this.for),t=this.querySelectorAll("a"),r=this;e.id&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"),e.addEventListener("click",a=>{r.hasAttribute("expanded")?(r.removeAttribute("expanded"),a.target.setAttribute("aria-expanded","false")):(r.setAttribute("expanded",""),a.target.setAttribute("aria-expanded","true")),document.addEventListener("click",t=>{t.target!==e&&(r.findAncestor(t.target,"joomla-dropdown")||r.close())}),t.forEach(e=>{e.addEventListener("click",()=>{r.close()})})}))}disconnectedCallback(){}adoptedCallback(e,t){}attributeChangedCallback(e,t,r){e}close(){const e=document.querySelector(`#${this.getAttribute("aria-labelledby")}`);this.removeAttribute("expanded"),e.setAttribute("aria-expanded","false")}findAncestor(e,t){for(;(e=e.parentElement)&&e.nodeName.toLowerCase()!==t;);return e}}customElements.define("joomla-dropdown",JoomlaDropdownElement);