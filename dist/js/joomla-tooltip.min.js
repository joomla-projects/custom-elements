class TooltipElement extends HTMLElement{static get observedAttributes(){return["label","tip","text","position"]}get label(){return this.getAttribute("label")}get tip(){return this.getAttribute("tip")}get position(){return this.getAttribute("position")}get text(){return this.getAttribute("text")}set position(t){this.setAttribute("position",t)}constructor(){super(),this.includeCss()}connectedCallback(){(!this.position||this.position&&-1===["top","bottom","left","right"].indexOf(this.position))&&(this.position="top");const t=document.createElement("button"),e=document.createElement("span"),i=this.tip,n=this.position,s=this;t.setAttribute("aria-label",this.label?this.label:"more info"),t.innerHTML=this.text?this.text:"",e.setAttribute("role","status"),t.addEventListener("click",()=>{document.addEventListener("click",function(i){t!==i.target&&(e.innerHTML="",s.removeEventListener("keydown",this))}),document.addEventListener("keydown",function(t){9===(t.keyCode||t.which)&&(e.innerHTML="",s.removeEventListener("keydown",this))}),e.innerHTML="",e.innerHTML=`<span class="toggletip-bubble ${n}">${i}</span>`}),this.append(t),this.append(e)}disconnectedCallback(){this.querySelector("button").removeEventListener("click",this)}dispatchCustomEvent(t){const e=new CustomEvent(t,{bubbles:!0,cancelable:!0});e.relatedTarget=this,this.dispatchEvent(e),this.removeEventListener(t,this)}includeCss(){if(!document.getElementById("joomla-tooltip-stylesheet")){const t=document.createElement("style");t.id="joomla-tooltip-stylesheet",t.innerHTML="{{stylesheet}}",document.head.appendChild(t)}}}customElements.define("joomla-tooltip",TooltipElement);