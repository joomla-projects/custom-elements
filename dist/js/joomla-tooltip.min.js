class TooltipElement extends HTMLElement{static get observedAttributes(){return["label","tip","text","position"]}get label(){return this.getAttribute("label")}get tip(){return this.getAttribute("tip")}get position(){return this.getAttribute("position")}get text(){return this.getAttribute("text")}set position(t){this.setAttribute("position",t)}constructor(){super(),this.includeCss()}connectedCallback(){(!this.position||this.position&&-1===["top","bottom","left","right"].indexOf(this.position))&&(this.position="top");const t=document.createElement("button"),e=document.createElement("span"),o=this.tip,r=this.position,i=this;t.setAttribute("aria-label",this.label?this.label:"more info"),t.innerHTML=this.text?this.text:"",e.setAttribute("role","status"),t.addEventListener("click",()=>{document.addEventListener("click",function(o){t!==o.target&&(e.innerHTML="",i.removeEventListener("keydown",this))}),document.addEventListener("keydown",function(t){9===(t.keyCode||t.which)&&(e.innerHTML="",i.removeEventListener("keydown",this))}),e.innerHTML="",e.innerHTML=`<span class="toggletip-bubble ${r}">${o}</span>`}),this.append(t),this.append(e)}disconnectedCallback(){this.querySelector("button").removeEventListener("click",this)}dispatchCustomEvent(t){const e=new CustomEvent(t,{bubbles:!0,cancelable:!0});e.relatedTarget=this,this.dispatchEvent(e),this.removeEventListener(t,this)}includeCss(){if(!document.getElementById("joomla-tooltip-stylesheet")){const t=document.createElement("style");t.id="joomla-tooltip-stylesheet",t.innerHTML=`joomla-tooltip{position:relative;display:inline-block}joomla-tooltip button{width:1.6rem;height:1.6rem;border-radius:50%;border:0;background:#1c3d5c;font-family:serif;font-weight:700;font-size:1.4rem;line-height:1.4rem;color:#fff}joomla-tooltip .toggletip-bubble{display:inline-block;position:absolute;z-index:1040;width:14rem;padding:.5rem .8rem;background:#222;font-size:.9rem;line-height:1.2rem;color:#fff;border-radius:.25rem;box-shadow:0 0 5px rgba(0,0,0,.4);transition:all ease-in;animation-duration:.3s}joomla-tooltip .toggletip-bubble:after{position:absolute;top:.6rem;right:100%;content:'';width:0;height:0;border-style:solid}joomla-tooltip .toggletip-bubble.top{bottom:100%;left:50%;margin-bottom:.6rem;transform:translate(-50%,0);animation-name:toggletip-fadeInTop}joomla-tooltip .toggletip-bubble.top:after{top:100%;left:50%;bottom:auto;border-width:6px 6px 0 6px;border-color:#222 transparent transparent transparent;transform:translateX(-50%)}joomla-tooltip .toggletip-bubble.left{top:50%;right:100%;margin-right:.6rem;transform:translate(0,-50%);animation-name:toggletip-fadeInLeft}joomla-tooltip .toggletip-bubble.left:after{top:50%;left:100%;bottom:auto;border-width:6px 0 6px 6px;border-color:transparent transparent transparent #222;transform:translateY(-50%)}joomla-tooltip .toggletip-bubble.right{top:50%;left:100%;margin-left:.6rem;transform:translate(0,-50%);animation-name:toggletip-fadeInRight}joomla-tooltip .toggletip-bubble.right:after{top:50%;right:100%;bottom:auto;border-width:6px 6px 6px 0;border-color:transparent #222 transparent transparent;transform:translateY(-50%)}joomla-tooltip .toggletip-bubble.bottom{top:100%;left:50%;margin-top:.6rem;transform:translate(-50%,0);animation-name:toggletip-fadeInBottom}joomla-tooltip .toggletip-bubble.bottom:after{top:-6px;left:50%;border-width:0 6px 6px 6px;border-color:transparent transparent #222 transparent;transform:translateX(-50%)}@keyframes toggletip-fadeInRight{from{transform:translate(-10px,-50%);opacity:0}to{transform:translate(0,-50%);opacity:1}}@keyframes toggletip-fadeInLeft{from{transform:translate(10px,-50%);opacity:0}to{transform:translate(0,-50%);opacity:1}}@keyframes toggletip-fadeInTop{from{transform:translate(-50%,10px);opacity:0}to{transform:translate(-50%,0);opacity:1}}@keyframes toggletip-fadeInBottom{from{transform:translate(-50%,-10px);opacity:0}to{transform:translate(-50%,0);opacity:1}}`,document.head.appendChild(t)}}}customElements.define("joomla-tooltip",TooltipElement);